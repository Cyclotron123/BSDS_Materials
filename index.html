<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BSDS Materials Explorer</title>
  <style>
    body {
      background-color: #0d1b2a;
      color: #e0f7fa;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #00bcd4;
      text-align: center;
      margin-bottom: 30px;
    }
    ul {
      list-style: none;
      padding-left: 20px;
    }
    li {
      margin: 8px 0;
    }
    a {
      color: #80deea;
      text-decoration: none;
      font-size: 1em;
    }
    a:hover {
      color: #4dd0e1;
      text-decoration: underline;
    }
    .folder {
      font-weight: bold;
      color: #4fc3f7;
    }
  </style>
</head>
<body>
  <h1>üìÅ BSDS Materials Repository</h1>
  <div id="repoTree"></div>

  <script>
    const owner = "Cyclotron123";
    const repo = "BSDS_Materials";
    const branch = "main";

    async function fetchTree(path = "", container = document.getElementById("repoTree")) {
      const url = `https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`;
      try {
        const res = await fetch(url);
        const items = await res.json();

        const ul = document.createElement("ul");
        for (const item of items) {
          const li = document.createElement("li");
          if (item.type === "dir") {
            li.innerHTML = `<span class="folder">üìÅ ${item.name}</span>`;
            ul.appendChild(li);
            await fetchTree(item.path, li);
          } else {
            const fileLink = `https://${owner}.github.io/${repo}/${item.path}`;
            li.innerHTML = `<a href="${fileLink}" target="_blank">üìÑ ${item.name}</a>`;
            ul.appendChild(li);
          }
        }
        container.appendChild(ul);
      } catch (err) {
        console.error("Failed to load repo tree:", err);
        container.innerHTML = "<p style='color: red;'>Error loading repository structure.</p>";
      }
    }

    fetchTree();
  </script>
</body>
</html>
